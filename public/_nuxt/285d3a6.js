(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,n){"use strict";var r=n(113),o=n.n(r);t.default=o.a},113:function(e,t){},153:function(e,t,n){"use strict";n.r(t);var r={components:{}},o=n(47),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"/"}},[e._v("JELLY STAFF APP")]),e._v(" "),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e._v(" "),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{href:"/games"}},[e._v("games")]),e._v(" "),n("b-nav-item",{attrs:{href:"/games/addgame"}},[e._v("ゲームを追加")]),e._v(" "),n("b-nav-item",{attrs:{href:"/user"}},[e._v("Profile")]),e._v(" "),n("b-nav-item",{attrs:{href:"/user/create"}},[e._v("add user")]),e._v(" "),n("b-nav-item",{attrs:{href:"/signin"}},[e._v("Sign in")]),e._v(" "),n("b-nav-item",{attrs:{href:"/signout"}},[e._v("Sign Out")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),e._v(" "),n("main",[n("nuxt")],1),e._v(" "),n("Footer")],1)},o=[]},205:function(e,t,n){"use strict";n.r(t);var r={components:{HeaderNav:n(153).default}},o=n(47),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("header",[t("HeaderNav")],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{HeaderNav:n(153).default,Header:n(205).default})},209:function(e,t,n){"use strict";var r=n(157),o=n(112),c=n(47),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);t.default=component.exports,installComponents(component,{Header:n(205).default,Footer:n(272).default})},214:function(e,t,n){n(215),e.exports=n(216)},231:function(e,t,n){"use strict";n.r(t);n(26);var r=n(38);t.default=function(e){var t=e.route,n=e.store,o=e.redirect;r.a.auth().onAuthStateChanged((function(e){!n.user&&e&&(n.commit("getData",{uid:e.uid,email:e.email}),n.commit("switchLogin")),e||"signin"===t.name||o("/signin")}))}},255:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"actions",(function(){return l})),n.d(t,"mutations",(function(){return h})),n.d(t,"getters",(function(){return v}));n(25),n(4);var r=n(273),o=n(38),c=o.a.firestore(),d=c.collection("games"),f=c.collection("users"),m=function(){return{users:[],user:{uid:"",email:"",login:!1,userName:null,instGame:[]},games:[],game:{id:"",title:"",memo:""}}},l={login:function(e,t){var n=e.commit;o.a.auth().signInWithEmailAndPassword(t.email,t.password).then((function(e){o.a.auth().onAuthStateChanged((function(e){e&&(n("getData",{uid:e.uid,email:e.email}),n("switchLogin"))}))})).catch((function(e){alert(e)}))},signout:function(){o.a.auth().signOut().then((function(){})).catch((function(e){}))},fetchUsers:function(e){var t=e.commit;return t("initUsers"),new Promise((function(e,n){f.get().then((function(n){n.forEach((function(n){t("addUsers",n.data()),e(!0)}))})).catch((function(e){console.error("An error occurred in fetchUsers(): ",e),n(e)}))}))},addUser:function(e,t){var n=e.commit,r={uid:t.uid,email:t.email,userName:t.userName,instGame:[],updated_at:o.a.firestore.FieldValue.serverTimestamp()};return new Promise((function(e,o){f.add(r).then((function(r){e(!0),n("addUserName",t.userName)})).catch((function(e){console.error("An error occurred in adduser(): ",e),o(e)}))}))},addGame:function(e,t){e.commit;var n={id:Object(r.a)(),title:t.game.title,memo:t.game.memo,playCount:0,created_at:o.a.firestore.FieldValue.serverTimestamp(),updated_at:o.a.firestore.FieldValue.serverTimestamp()};return new Promise((function(e,t){d.add(n).then((function(t){e(!0)})).catch((function(e){console.error("An error occurred in addgame(): ",e),t(e)}))}))},editGame:function(e,t){e.commit;return new Promise((function(e,n){d.where("id","==",t.game.id).get().then((function(n){n.forEach((function(n){var r={title:t.game.title,memo:t.game.memo,updated_at:o.a.firestore.FieldValue.serverTimestamp()};d.doc(n.id).update(r).then((function(t){e(!0)})).catch((function(t){console.error("An error occurred in editGame(): ",t),e(t)}))}))}))}))},deleteGame:function(e,t){e.commit;return new Promise((function(e,n){d.where("id","==",t.id).get().then((function(t){t.forEach((function(t){d.doc(t.id).delete().then((function(t){e(!0)})).catch((function(e){console.error("An error occurred in deleteGame(): ",e),n(e)}))}))}))}))},addInstGame:function(e,t){var n=e.state;e.commit;return new Promise((function(e,r){f.where("uid","==",n.user.uid).get().then((function(n){n.forEach((function(n){f.doc(n.id).update({instGame:o.a.firestore.FieldValue.arrayUnion(t.id)}).then((function(t){e(!0)})).catch((function(e){console.error("An error occurred in deleteGame(): ",e),r(e)}))}))}))}))},delInstGame:function(e,t){var n=e.state;e.commit;return new Promise((function(e,r){f.where("uid","==",n.user.uid).get().then((function(n){n.forEach((function(n){f.doc(n.id).update({instGame:o.a.firestore.FieldValue.arrayRemove(t.id)}).then((function(t){e(!0)})).catch((function(e){console.error("An error occurred in deleteGame(): ",e),r(e)}))}))}))}))},fetchGames:function(e){var t=e.commit;return t("initGames"),new Promise((function(e,n){d.orderBy("created_at","desc").get().then((function(n){n.forEach((function(n){t("addGames",n.data()),e(!0)}))})).catch((function(e){console.error("An error occurred in fetchUsers(): ",e),n(e)}))}))},fetchGame:function(e,t){var n=e.commit;return new Promise((function(e,r){d.where("id","==",t.id).get().then((function(t){t.forEach((function(t){n("addGame",t.data()),e(!0)}))})).catch((function(e){console.error("An error occurred in fetchUsers(): ",e),r(e)}))}))}},h={getData:function(e,t){e.user.uid=t.uid,e.user.email=t.email},switchLogin:function(e){e.user.login=!0},initUsers:function(e){e.users=[]},addUsers:function(e,t){e.users.push(t)},addUserName:function(e,t){e.user.userName=t,console.log(t)},initGames:function(e){e.games=[]},addGames:function(e,t){e.games.push(t)},addGame:function(e,t){e.game=t}},v={getUsers:function(e){return e.users},getUser:function(e){return e.user},getGames:function(e){return e.games},getGame:function(e){return e.game}}},272:function(e,t,n){"use strict";n.r(t);var r={},o=n(47),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("©️jelly")])}),[],!1,null,null,null);t.default=component.exports},38:function(e,t,n){"use strict";var r=n(121);r.a.apps.length||r.a.initializeApp({apiKey:"AIzaSyDud_CR1KxSYNSoFpgr8DwocYTAJ3kf-JE",authDomain:"staff-app-29611.firebaseapp.com",projectId:"staff-app-29611",storageBucket:"staff-app-29611.appspot.com",messagingSenderId:"447948074851",appId:"1:447948074851:web:e2bd1c04c1c62fb4d8ed56",measurementId:"G-V6KMFY0YDB"}),t.a=r.a}},[[214,12,1,13]]]);